routes:
  - path: "/api/public"
    method: "GET"
    middlewares:
      - name: "logger"
        config:
          format: "combined"
          output: "stdout"

  - path: "/api/protected"
    method: "POST"
    middlewares:
      - name: "logger"
        config:
          format: "json"
          output: "file"
      - name: "auth"
        config:
          realm: "Protected API"
          tokens: ["token1", "token2"]
      - name: "ratelimit"
        config:
          limit: 100
          window: 60
    proxy:
      target: "http://internal-service:8080"
      timeout: 30

  - path: "/api/admin"
    method: "GET"
    middlewares:
      - name: "auth"
        config:
          realm: "Admin API"
          roles: ["admin"]
    proxy:
      target: "http://admin-service:8080"
      timeout: 60